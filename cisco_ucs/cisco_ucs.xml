<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export>
    <version>4.4</version>
    <date>2021-04-12T04:58:01Z</date>
    <groups>
        <group>
            <name>Отдел ОРТИ/Templates</name>
        </group>
    </groups>
    <templates>
        <template>
            <template>Template_ORTI_2.2_Cisco_UCS</template>
            <name>Template_ORTI_2.2_Cisco_UCS</name>
            <groups>
                <group>
                    <name>Отдел ОРТИ/Templates</name>
                </group>
            </groups>
            <applications>
                <application>
                    <name>Availability</name>
                </application>
                <application>
                    <name>Blade</name>
                </application>
                <application>
                    <name>Chassis</name>
                </application>
                <application>
                    <name>Fan</name>
                </application>
                <application>
                    <name>Health</name>
                </application>
                <application>
                    <name>Inventory</name>
                </application>
                <application>
                    <name>IO Card</name>
                </application>
                <application>
                    <name>Power</name>
                </application>
                <application>
                    <name>Switch/Fabric</name>
                </application>
            </applications>
            <items>
                <item>
                    <name>Faults Count</name>
                    <type>EXTERNAL</type>
                    <key>cisco_ucs_faults[&quot;{IPADDRESS}&quot;,&quot;{$USERNAME}&quot;,&quot;{$AUTH_PASSWORD}&quot;,&quot;{$PRIV_PASSWORD}&quot;]</key>
                    <delay>2m</delay>
                    <applications>
                        <application>
                            <name>Health</name>
                        </application>
                    </applications>
                    <triggers>
                        <trigger>
                            <expression>{last()}&gt;0</expression>
                            <name>Fault(s) exist</name>
                            <opdata>Now: {ITEM.LASTVALUE}</opdata>
                            <priority>WARNING</priority>
                            <description>The external check on which this trigger is based ignores Cisco Intersight connectivivty fault.</description>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <name>Ping</name>
                    <type>SIMPLE</type>
                    <snmp_community>{$SNMP_COMMUNITY}</snmp_community>
                    <key>icmpping</key>
                    <delay>60</delay>
                    <history>7d</history>
                    <trends>120d</trends>
                    <applications>
                        <application>
                            <name>Availability</name>
                        </application>
                    </applications>
                    <valuemap>
                        <name>ICMP Ping Status</name>
                    </valuemap>
                </item>
                <item>
                    <name>System name</name>
                    <type>SNMPV3</type>
                    <snmp_oid>1.3.6.1.2.1.1.5.0</snmp_oid>
                    <key>sysName</key>
                    <delay>600</delay>
                    <history>7d</history>
                    <trends>0</trends>
                    <value_type>CHAR</value_type>
                    <snmpv3_securityname>{$USERNAME}</snmpv3_securityname>
                    <snmpv3_securitylevel>AUTHPRIV</snmpv3_securitylevel>
                    <snmpv3_authprotocol>SHA</snmpv3_authprotocol>
                    <snmpv3_authpassphrase>{$AUTH_PASSWORD}</snmpv3_authpassphrase>
                    <snmpv3_privprotocol>AES</snmpv3_privprotocol>
                    <snmpv3_privpassphrase>{$PRIV_PASSWORD}</snmpv3_privpassphrase>
                    <port>161</port>
                    <inventory_link>NAME</inventory_link>
                    <applications>
                        <application>
                            <name>Inventory</name>
                        </application>
                    </applications>
                    <triggers>
                        <trigger>
                            <expression>{diff(0)}=1</expression>
                            <name>sysName has Changed</name>
                            <priority>AVERAGE</priority>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <name>System Uptime</name>
                    <type>SNMPV3</type>
                    <snmp_oid>.1.3.6.1.2.1.1.3.0</snmp_oid>
                    <key>sysUpTime</key>
                    <delay>180</delay>
                    <history>1d</history>
                    <trends>0</trends>
                    <units>uptime</units>
                    <snmpv3_securityname>{$USERNAME}</snmpv3_securityname>
                    <snmpv3_securitylevel>AUTHPRIV</snmpv3_securitylevel>
                    <snmpv3_authprotocol>SHA</snmpv3_authprotocol>
                    <snmpv3_authpassphrase>{$AUTH_PASSWORD}</snmpv3_authpassphrase>
                    <snmpv3_privprotocol>AES</snmpv3_privprotocol>
                    <snmpv3_privpassphrase>{$PRIV_PASSWORD}</snmpv3_privpassphrase>
                    <port>161</port>
                    <applications>
                        <application>
                            <name>Availability</name>
                        </application>
                    </applications>
                    <preprocessing>
                        <step>
                            <type>MULTIPLIER</type>
                            <params>0.01</params>
                        </step>
                    </preprocessing>
                    <triggers>
                        <trigger>
                            <expression>{last(0)}&lt;300 and {last(#3)}&lt;4294966936</expression>
                            <name>has just been restarted</name>
                            <priority>WARNING</priority>
                            <description>4294966936 is 2^31-2*180&#13;
if checking frequency changes this number must be updates&#13;
the second condition was added to avoid false triggering when Timeticks value overflows</description>
                        </trigger>
                        <trigger>
                            <expression>{nodata(1200)}=1</expression>
                            <name>No SNMP data available</name>
                            <priority>WARNING</priority>
                        </trigger>
                    </triggers>
                </item>
            </items>
            <discovery_rules>
                <discovery_rule>
                    <name>Chassis</name>
                    <type>SNMPV3</type>
                    <snmp_oid>discovery[{#CHASSIS_LOCATION},1.3.6.1.4.1.9.9.719.1.15.7.1.2]</snmp_oid>
                    <key>chassis.discovery</key>
                    <delay>1h</delay>
                    <snmpv3_securityname>{$USERNAME}</snmpv3_securityname>
                    <snmpv3_securitylevel>AUTHPRIV</snmpv3_securitylevel>
                    <snmpv3_authprotocol>SHA</snmpv3_authprotocol>
                    <snmpv3_authpassphrase>{$AUTH_PASSWORD}</snmpv3_authpassphrase>
                    <snmpv3_privprotocol>AES</snmpv3_privprotocol>
                    <snmpv3_privpassphrase>{$PRIV_PASSWORD}</snmpv3_privpassphrase>
                    <item_prototypes>
                        <item_prototype>
                            <name>{#CHASSIS_LOCATION}: Chassis status</name>
                            <type>SNMPV3</type>
                            <snmp_oid>1.3.6.1.4.1.9.9.719.1.15.7.1.27.{#SNMPINDEX}</snmp_oid>
                            <key>sensor.chassis.status[cucsEquipmentChassisOperState.{#SNMPINDEX}]</key>
                            <delay>5m</delay>
                            <snmpv3_securityname>{$USERNAME}</snmpv3_securityname>
                            <snmpv3_securitylevel>AUTHPRIV</snmpv3_securitylevel>
                            <snmpv3_authprotocol>SHA</snmpv3_authprotocol>
                            <snmpv3_authpassphrase>{$AUTH_PASSWORD}</snmpv3_authpassphrase>
                            <snmpv3_privprotocol>AES</snmpv3_privprotocol>
                            <snmpv3_privpassphrase>{$PRIV_PASSWORD}</snmpv3_privpassphrase>
                            <applications>
                                <application>
                                    <name>Chassis</name>
                                </application>
                            </applications>
                            <valuemap>
                                <name>CISCO-UNIFIED-COMPUTING-TC-MIB::CucsEquipmentOperability</name>
                            </valuemap>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{last(#1)}=3</expression>
                                    <name>{#CHASSIS_LOCATION} degraded</name>
                                    <opdata>Now: {ITEM.LASTVALUE}</opdata>
                                    <priority>WARNING</priority>
                                    <dependencies>
                                        <dependency>
                                            <name>{#CHASSIS_LOCATION} inoperable</name>
                                            <expression>{Template_ORTI_2.2_Cisco_UCS:sensor.chassis.status[cucsEquipmentChassisOperState.{#SNMPINDEX}].last(#1)}=2</expression>
                                        </dependency>
                                    </dependencies>
                                </trigger_prototype>
                                <trigger_prototype>
                                    <expression>{last(#1)}=2</expression>
                                    <name>{#CHASSIS_LOCATION} inoperable</name>
                                    <opdata>Now: {ITEM.LASTVALUE}</opdata>
                                    <priority>HIGH</priority>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                    </item_prototypes>
                </discovery_rule>
                <discovery_rule>
                    <name>Blade</name>
                    <type>SNMPV3</type>
                    <snmp_oid>discovery[{#BLADE_LOCATION},1.3.6.1.4.1.9.9.719.1.9.2.1.2]</snmp_oid>
                    <key>discovery.blade</key>
                    <delay>1h</delay>
                    <snmpv3_securityname>{$USERNAME}</snmpv3_securityname>
                    <snmpv3_securitylevel>AUTHPRIV</snmpv3_securitylevel>
                    <snmpv3_authprotocol>SHA</snmpv3_authprotocol>
                    <snmpv3_authpassphrase>{$AUTH_PASSWORD}</snmpv3_authpassphrase>
                    <snmpv3_privprotocol>AES</snmpv3_privprotocol>
                    <snmpv3_privpassphrase>{$PRIV_PASSWORD}</snmpv3_privpassphrase>
                    <item_prototypes>
                        <item_prototype>
                            <name>{#BLADE_LOCATION}: Blade status</name>
                            <type>SNMPV3</type>
                            <snmp_oid>1.3.6.1.4.1.9.9.719.1.9.2.1.42.{#SNMPINDEX}</snmp_oid>
                            <key>sensor.blade.status[cucsComputeBladeOperState.{#SNMPINDEX}]</key>
                            <delay>5m</delay>
                            <snmpv3_securityname>{$USERNAME}</snmpv3_securityname>
                            <snmpv3_securitylevel>AUTHPRIV</snmpv3_securitylevel>
                            <snmpv3_authprotocol>SHA</snmpv3_authprotocol>
                            <snmpv3_authpassphrase>{$AUTH_PASSWORD}</snmpv3_authpassphrase>
                            <snmpv3_privprotocol>AES</snmpv3_privprotocol>
                            <snmpv3_privpassphrase>{$PRIV_PASSWORD}</snmpv3_privpassphrase>
                            <applications>
                                <application>
                                    <name>Blade</name>
                                </application>
                            </applications>
                            <valuemap>
                                <name>CISCO-UNIFIED-COMPUTING-TC-MIB::CucsLsOperState</name>
                            </valuemap>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>not ({last()}=10 or {last()}=14 or {last()}=15)</expression>
                                    <name>{#BLADE_LOCATION} status warning</name>
                                    <opdata>Now: {ITEM.LASTVALUE}</opdata>
                                    <priority>WARNING</priority>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>{#BLADE_LOCATION}: Serial number</name>
                            <type>SNMPV3</type>
                            <snmp_oid>1.3.6.1.4.1.9.9.719.1.9.2.1.47.{#SNMPINDEX}</snmp_oid>
                            <key>sensor.blade.status[cucsComputeBladeSerial.{#SNMPINDEX}]</key>
                            <delay>6h</delay>
                            <trends>0</trends>
                            <value_type>CHAR</value_type>
                            <snmpv3_securityname>{$USERNAME}</snmpv3_securityname>
                            <snmpv3_securitylevel>AUTHPRIV</snmpv3_securitylevel>
                            <snmpv3_authprotocol>SHA</snmpv3_authprotocol>
                            <snmpv3_authpassphrase>{$AUTH_PASSWORD}</snmpv3_authpassphrase>
                            <snmpv3_privprotocol>AES</snmpv3_privprotocol>
                            <snmpv3_privpassphrase>{$PRIV_PASSWORD}</snmpv3_privpassphrase>
                            <applications>
                                <application>
                                    <name>Inventory</name>
                                </application>
                            </applications>
                        </item_prototype>
                    </item_prototypes>
                </discovery_rule>
                <discovery_rule>
                    <name>IO card</name>
                    <type>SNMPV3</type>
                    <snmp_oid>discovery[{#IOC_LOCATION},1.3.6.1.4.1.9.9.719.1.15.30.1.2]</snmp_oid>
                    <key>discovery.IOCard</key>
                    <delay>1h</delay>
                    <snmpv3_securityname>{$USERNAME}</snmpv3_securityname>
                    <snmpv3_securitylevel>AUTHPRIV</snmpv3_securitylevel>
                    <snmpv3_authprotocol>SHA</snmpv3_authprotocol>
                    <snmpv3_authpassphrase>{$AUTH_PASSWORD}</snmpv3_authpassphrase>
                    <snmpv3_privprotocol>AES</snmpv3_privprotocol>
                    <snmpv3_privpassphrase>{$PRIV_PASSWORD}</snmpv3_privpassphrase>
                    <item_prototypes>
                        <item_prototype>
                            <name>{#IOC_LOCATION}: IO Card status</name>
                            <type>SNMPV3</type>
                            <snmp_oid>1.3.6.1.4.1.9.9.719.1.15.30.1.25.{#SNMPINDEX}</snmp_oid>
                            <key>sensor.IOCard.status[cucsEquipmentIOCardOperState.{#SNMPINDEX}]</key>
                            <delay>5m</delay>
                            <snmpv3_securityname>{$USERNAME}</snmpv3_securityname>
                            <snmpv3_securitylevel>AUTHPRIV</snmpv3_securitylevel>
                            <snmpv3_authprotocol>SHA</snmpv3_authprotocol>
                            <snmpv3_authpassphrase>{$AUTH_PASSWORD}</snmpv3_authpassphrase>
                            <snmpv3_privprotocol>AES</snmpv3_privprotocol>
                            <snmpv3_privpassphrase>{$PRIV_PASSWORD}</snmpv3_privpassphrase>
                            <applications>
                                <application>
                                    <name>IO Card</name>
                                </application>
                            </applications>
                            <valuemap>
                                <name>CISCO-UNIFIED-COMPUTING-TC-MIB::CucsEquipmentOperability</name>
                            </valuemap>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{last()}=3</expression>
                                    <name>{#IOC_LOCATION} degraded</name>
                                    <priority>WARNING</priority>
                                    <dependencies>
                                        <dependency>
                                            <name>{#IOC_LOCATION} inoperable</name>
                                            <expression>{Template_ORTI_2.2_Cisco_UCS:sensor.IOCard.status[cucsEquipmentIOCardOperState.{#SNMPINDEX}].last()}=2</expression>
                                        </dependency>
                                    </dependencies>
                                </trigger_prototype>
                                <trigger_prototype>
                                    <expression>{last()}=2</expression>
                                    <name>{#IOC_LOCATION} inoperable</name>
                                    <priority>AVERAGE</priority>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                    </item_prototypes>
                </discovery_rule>
                <discovery_rule>
                    <name>Fabric / Switch</name>
                    <type>SNMPV3</type>
                    <snmp_oid>discovery[{#SW_LOCATION},.1.3.6.1.4.1.9.9.719.1.15.70.1.2]</snmp_oid>
                    <key>discovery.switch</key>
                    <delay>1h</delay>
                    <snmpv3_securityname>{$USERNAME}</snmpv3_securityname>
                    <snmpv3_securitylevel>AUTHPRIV</snmpv3_securitylevel>
                    <snmpv3_authprotocol>SHA</snmpv3_authprotocol>
                    <snmpv3_authpassphrase>{$AUTH_PASSWORD}</snmpv3_authpassphrase>
                    <snmpv3_privprotocol>AES</snmpv3_privprotocol>
                    <snmpv3_privpassphrase>{$PRIV_PASSWORD}</snmpv3_privpassphrase>
                    <item_prototypes>
                        <item_prototype>
                            <name>{#SW_LOCATION}: Switch/Fabric status</name>
                            <type>SNMPV3</type>
                            <snmp_oid>1.3.6.1.4.1.9.9.719.1.15.70.1.9.{#SNMPINDEX}</snmp_oid>
                            <key>sensor.switch.status[cucsEquipmentSwitchCardOperState.{#SNMPINDEX}]</key>
                            <delay>5m</delay>
                            <snmpv3_securityname>{$USERNAME}</snmpv3_securityname>
                            <snmpv3_securitylevel>AUTHPRIV</snmpv3_securitylevel>
                            <snmpv3_authprotocol>SHA</snmpv3_authprotocol>
                            <snmpv3_authpassphrase>{$AUTH_PASSWORD}</snmpv3_authpassphrase>
                            <snmpv3_privprotocol>AES</snmpv3_privprotocol>
                            <snmpv3_privpassphrase>{$PRIV_PASSWORD}</snmpv3_privpassphrase>
                            <applications>
                                <application>
                                    <name>Switch/Fabric</name>
                                </application>
                            </applications>
                            <valuemap>
                                <name>CISCO-UNIFIED-COMPUTING-TC-MIB::CucsEquipmentOperability</name>
                            </valuemap>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{nodata(20m)}=1</expression>
                                    <name>No SNMP data for {#SW_LOCATION} - Check if other item values received</name>
                                    <priority>WARNING</priority>
                                </trigger_prototype>
                                <trigger_prototype>
                                    <expression>{last()}=3</expression>
                                    <name>{#SW_LOCATION} degraded</name>
                                    <priority>WARNING</priority>
                                    <dependencies>
                                        <dependency>
                                            <name>{#SW_LOCATION} inoperable</name>
                                            <expression>{Template_ORTI_2.2_Cisco_UCS:sensor.switch.status[cucsEquipmentSwitchCardOperState.{#SNMPINDEX}].last()}=2</expression>
                                        </dependency>
                                    </dependencies>
                                </trigger_prototype>
                                <trigger_prototype>
                                    <expression>{last()}=2</expression>
                                    <name>{#SW_LOCATION} inoperable</name>
                                    <priority>HIGH</priority>
                                </trigger_prototype>
                                <trigger_prototype>
                                    <expression>{last()}=0 or {last()}&gt;3</expression>
                                    <name>{#SW_LOCATION} status warning</name>
                                    <opdata>Now: {ITEM.LASTVALUE}</opdata>
                                    <priority>INFO</priority>
                                    <dependencies>
                                        <dependency>
                                            <name>{#SW_LOCATION} inoperable</name>
                                            <expression>{Template_ORTI_2.2_Cisco_UCS:sensor.switch.status[cucsEquipmentSwitchCardOperState.{#SNMPINDEX}].last()}=2</expression>
                                        </dependency>
                                    </dependencies>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>{#SW_LOCATION}: Serial number</name>
                            <type>SNMPV3</type>
                            <snmp_oid>1.3.6.1.4.1.9.9.719.1.15.70.1.15.{#SNMPINDEX}</snmp_oid>
                            <key>sensor.switch.status[cucsEquipmentSwitchCardSerial.{#SNMPINDEX}]</key>
                            <delay>6h</delay>
                            <trends>0</trends>
                            <value_type>CHAR</value_type>
                            <snmpv3_securityname>{$USERNAME}</snmpv3_securityname>
                            <snmpv3_securitylevel>AUTHPRIV</snmpv3_securitylevel>
                            <snmpv3_authprotocol>SHA</snmpv3_authprotocol>
                            <snmpv3_authpassphrase>{$AUTH_PASSWORD}</snmpv3_authpassphrase>
                            <snmpv3_privprotocol>AES</snmpv3_privprotocol>
                            <snmpv3_privpassphrase>{$PRIV_PASSWORD}</snmpv3_privpassphrase>
                            <applications>
                                <application>
                                    <name>Inventory</name>
                                </application>
                            </applications>
                        </item_prototype>
                    </item_prototypes>
                </discovery_rule>
                <discovery_rule>
                    <name>Fan</name>
                    <type>SNMPV3</type>
                    <snmp_oid>discovery[{#FAN_LOCATION},1.3.6.1.4.1.9.9.719.1.15.12.1.2]</snmp_oid>
                    <key>fan.discovery</key>
                    <delay>1h</delay>
                    <snmpv3_securityname>{$USERNAME}</snmpv3_securityname>
                    <snmpv3_securitylevel>AUTHPRIV</snmpv3_securitylevel>
                    <snmpv3_authprotocol>SHA</snmpv3_authprotocol>
                    <snmpv3_authpassphrase>{$AUTH_PASSWORD}</snmpv3_authpassphrase>
                    <snmpv3_privprotocol>AES</snmpv3_privprotocol>
                    <snmpv3_privpassphrase>{$PRIV_PASSWORD}</snmpv3_privpassphrase>
                    <item_prototypes>
                        <item_prototype>
                            <name>{#FAN_LOCATION}: Fan status</name>
                            <type>SNMPV3</type>
                            <snmp_oid>1.3.6.1.4.1.9.9.719.1.15.12.1.9.{#SNMPINDEX}</snmp_oid>
                            <key>sensor.fan.status[cucsEquipmentFanOperState.{#SNMPINDEX}]</key>
                            <delay>5m</delay>
                            <snmpv3_securityname>{$USERNAME}</snmpv3_securityname>
                            <snmpv3_securitylevel>AUTHPRIV</snmpv3_securitylevel>
                            <snmpv3_authprotocol>SHA</snmpv3_authprotocol>
                            <snmpv3_authpassphrase>{$AUTH_PASSWORD}</snmpv3_authpassphrase>
                            <snmpv3_privprotocol>AES</snmpv3_privprotocol>
                            <snmpv3_privpassphrase>{$PRIV_PASSWORD}</snmpv3_privpassphrase>
                            <applications>
                                <application>
                                    <name>Fan</name>
                                </application>
                            </applications>
                            <valuemap>
                                <name>CISCO-UNIFIED-COMPUTING-TC-MIB::CucsEquipmentOperability</name>
                            </valuemap>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{last()}=3</expression>
                                    <name>{#FAN_LOCATION} degraded</name>
                                    <opdata>Now: {ITEM.LASTVALUE}</opdata>
                                    <priority>WARNING</priority>
                                    <dependencies>
                                        <dependency>
                                            <name>{#FAN_LOCATION} inoperable</name>
                                            <expression>{Template_ORTI_2.2_Cisco_UCS:sensor.fan.status[cucsEquipmentFanOperState.{#SNMPINDEX}].last()}=2</expression>
                                        </dependency>
                                    </dependencies>
                                </trigger_prototype>
                                <trigger_prototype>
                                    <expression>{last()}=2</expression>
                                    <name>{#FAN_LOCATION} inoperable</name>
                                    <opdata>Now: {ITEM.LASTVALUE}</opdata>
                                    <priority>AVERAGE</priority>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                    </item_prototypes>
                </discovery_rule>
                <discovery_rule>
                    <name>PSU</name>
                    <type>SNMPV3</type>
                    <snmp_oid>discovery[{#PSU_LOCATION},1.3.6.1.4.1.9.9.719.1.15.56.1.2]</snmp_oid>
                    <key>psu.discovery</key>
                    <delay>1h</delay>
                    <snmpv3_securityname>{$USERNAME}</snmpv3_securityname>
                    <snmpv3_securitylevel>AUTHPRIV</snmpv3_securitylevel>
                    <snmpv3_authprotocol>SHA</snmpv3_authprotocol>
                    <snmpv3_authpassphrase>{$AUTH_PASSWORD}</snmpv3_authpassphrase>
                    <snmpv3_privprotocol>AES</snmpv3_privprotocol>
                    <snmpv3_privpassphrase>{$PRIV_PASSWORD}</snmpv3_privpassphrase>
                    <item_prototypes>
                        <item_prototype>
                            <name>{#PSU_LOCATION}: Power supply status</name>
                            <type>SNMPV3</type>
                            <snmp_oid>1.3.6.1.4.1.9.9.719.1.15.56.1.7.{#SNMPINDEX}</snmp_oid>
                            <key>sensor.psu.status[cucsEquipmentPsuOperState.{#SNMPINDEX}]</key>
                            <delay>5m</delay>
                            <snmpv3_securityname>{$USERNAME}</snmpv3_securityname>
                            <snmpv3_securitylevel>AUTHPRIV</snmpv3_securitylevel>
                            <snmpv3_authprotocol>SHA</snmpv3_authprotocol>
                            <snmpv3_authpassphrase>{$AUTH_PASSWORD}</snmpv3_authpassphrase>
                            <snmpv3_privprotocol>AES</snmpv3_privprotocol>
                            <snmpv3_privpassphrase>{$PRIV_PASSWORD}</snmpv3_privpassphrase>
                            <applications>
                                <application>
                                    <name>Power</name>
                                </application>
                            </applications>
                            <valuemap>
                                <name>CISCO-UNIFIED-COMPUTING-TC-MIB::CucsEquipmentOperability</name>
                            </valuemap>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{last()}=3</expression>
                                    <name>{#PSU_LOCATION} degraded</name>
                                    <priority>WARNING</priority>
                                    <dependencies>
                                        <dependency>
                                            <name>{#PSU_LOCATION} inoperable</name>
                                            <expression>{Template_ORTI_2.2_Cisco_UCS:sensor.psu.status[cucsEquipmentPsuOperState.{#SNMPINDEX}].last()}=2</expression>
                                        </dependency>
                                    </dependencies>
                                </trigger_prototype>
                                <trigger_prototype>
                                    <expression>{last()}=2</expression>
                                    <name>{#PSU_LOCATION} inoperable</name>
                                    <priority>AVERAGE</priority>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                    </item_prototypes>
                </discovery_rule>
            </discovery_rules>
            <macros>
                <macro>
                    <macro>{$AUTH_PASSWORD}</macro>
                    <description>SNMP v3 Authentication password</description>
                </macro>
                <macro>
                    <macro>{$PRIV_PASSWORD}</macro>
                    <description>SNMP v3 Privacy password</description>
                </macro>
                <macro>
                    <macro>{$USERNAME}</macro>
                    <description>SNMP v3 User Name</description>
                </macro>
            </macros>
        </template>
    </templates>
    <value_maps>
        <value_map>
            <name>CISCO-UNIFIED-COMPUTING-TC-MIB::CucsEquipmentOperability</name>
            <mappings>
                <mapping>
                    <value>0</value>
                    <newvalue>unknown</newvalue>
                </mapping>
                <mapping>
                    <value>1</value>
                    <newvalue>operable</newvalue>
                </mapping>
                <mapping>
                    <value>2</value>
                    <newvalue>inoperable</newvalue>
                </mapping>
                <mapping>
                    <value>3</value>
                    <newvalue>degraded</newvalue>
                </mapping>
                <mapping>
                    <value>4</value>
                    <newvalue>poweredOff</newvalue>
                </mapping>
                <mapping>
                    <value>5</value>
                    <newvalue>powerProblem</newvalue>
                </mapping>
                <mapping>
                    <value>6</value>
                    <newvalue>removed</newvalue>
                </mapping>
                <mapping>
                    <value>7</value>
                    <newvalue>voltageProblem</newvalue>
                </mapping>
                <mapping>
                    <value>8</value>
                    <newvalue>thermalProblem</newvalue>
                </mapping>
                <mapping>
                    <value>9</value>
                    <newvalue>performanceProblem</newvalue>
                </mapping>
                <mapping>
                    <value>10</value>
                    <newvalue>accessibilityProblem</newvalue>
                </mapping>
                <mapping>
                    <value>11</value>
                    <newvalue>identityUnestablishable</newvalue>
                </mapping>
                <mapping>
                    <value>12</value>
                    <newvalue>biosPostTimeout</newvalue>
                </mapping>
                <mapping>
                    <value>13</value>
                    <newvalue>disabled</newvalue>
                </mapping>
                <mapping>
                    <value>14</value>
                    <newvalue>malformedFru</newvalue>
                </mapping>
                <mapping>
                    <value>15</value>
                    <newvalue>backplanePortProblem</newvalue>
                </mapping>
                <mapping>
                    <value>16</value>
                    <newvalue>chassisIntrusion</newvalue>
                </mapping>
                <mapping>
                    <value>51</value>
                    <newvalue>fabricConnProblem</newvalue>
                </mapping>
                <mapping>
                    <value>52</value>
                    <newvalue>fabricUnsupportedConn</newvalue>
                </mapping>
                <mapping>
                    <value>81</value>
                    <newvalue>config</newvalue>
                </mapping>
                <mapping>
                    <value>82</value>
                    <newvalue>equipmentProblem</newvalue>
                </mapping>
                <mapping>
                    <value>83</value>
                    <newvalue>decomissioning</newvalue>
                </mapping>
                <mapping>
                    <value>84</value>
                    <newvalue>chassisLimitExceeded</newvalue>
                </mapping>
                <mapping>
                    <value>100</value>
                    <newvalue>notSupported</newvalue>
                </mapping>
                <mapping>
                    <value>101</value>
                    <newvalue>discovery</newvalue>
                </mapping>
                <mapping>
                    <value>102</value>
                    <newvalue>discoveryFailed</newvalue>
                </mapping>
                <mapping>
                    <value>103</value>
                    <newvalue>identify</newvalue>
                </mapping>
                <mapping>
                    <value>104</value>
                    <newvalue>postFailure</newvalue>
                </mapping>
                <mapping>
                    <value>105</value>
                    <newvalue>upgradeProblem</newvalue>
                </mapping>
                <mapping>
                    <value>106</value>
                    <newvalue>peerCommProblem</newvalue>
                </mapping>
                <mapping>
                    <value>107</value>
                    <newvalue>autoUpgrade</newvalue>
                </mapping>
                <mapping>
                    <value>108</value>
                    <newvalue>linkActivateBlocked</newvalue>
                </mapping>
            </mappings>
        </value_map>
        <value_map>
            <name>CISCO-UNIFIED-COMPUTING-TC-MIB::CucsLsOperState</name>
            <mappings>
                <mapping>
                    <value>0</value>
                    <newvalue>indeterminate</newvalue>
                </mapping>
                <mapping>
                    <value>1</value>
                    <newvalue>unassociated</newvalue>
                </mapping>
                <mapping>
                    <value>10</value>
                    <newvalue>ok</newvalue>
                </mapping>
                <mapping>
                    <value>11</value>
                    <newvalue>discovery</newvalue>
                </mapping>
                <mapping>
                    <value>12</value>
                    <newvalue>config</newvalue>
                </mapping>
                <mapping>
                    <value>13</value>
                    <newvalue>unconfig</newvalue>
                </mapping>
                <mapping>
                    <value>14</value>
                    <newvalue>powerOff</newvalue>
                </mapping>
                <mapping>
                    <value>15</value>
                    <newvalue>restart</newvalue>
                </mapping>
                <mapping>
                    <value>20</value>
                    <newvalue>maintenance</newvalue>
                </mapping>
                <mapping>
                    <value>21</value>
                    <newvalue>test</newvalue>
                </mapping>
                <mapping>
                    <value>29</value>
                    <newvalue>computeMismatch</newvalue>
                </mapping>
                <mapping>
                    <value>30</value>
                    <newvalue>computeFailed</newvalue>
                </mapping>
                <mapping>
                    <value>31</value>
                    <newvalue>degraded</newvalue>
                </mapping>
                <mapping>
                    <value>32</value>
                    <newvalue>discoveryFailed</newvalue>
                </mapping>
                <mapping>
                    <value>33</value>
                    <newvalue>configFailure</newvalue>
                </mapping>
                <mapping>
                    <value>34</value>
                    <newvalue>unconfigFailed</newvalue>
                </mapping>
                <mapping>
                    <value>35</value>
                    <newvalue>testFailed</newvalue>
                </mapping>
                <mapping>
                    <value>36</value>
                    <newvalue>maintenanceFailed</newvalue>
                </mapping>
                <mapping>
                    <value>40</value>
                    <newvalue>removed</newvalue>
                </mapping>
                <mapping>
                    <value>41</value>
                    <newvalue>disabled</newvalue>
                </mapping>
                <mapping>
                    <value>50</value>
                    <newvalue>inaccessible</newvalue>
                </mapping>
                <mapping>
                    <value>60</value>
                    <newvalue>thermalProblem</newvalue>
                </mapping>
                <mapping>
                    <value>61</value>
                    <newvalue>powerProblem</newvalue>
                </mapping>
                <mapping>
                    <value>62</value>
                    <newvalue>voltageProblem</newvalue>
                </mapping>
                <mapping>
                    <value>63</value>
                    <newvalue>inoperable</newvalue>
                </mapping>
                <mapping>
                    <value>101</value>
                    <newvalue>decomissioning</newvalue>
                </mapping>
                <mapping>
                    <value>201</value>
                    <newvalue>biosRestore</newvalue>
                </mapping>
                <mapping>
                    <value>202</value>
                    <newvalue>cmosReset</newvalue>
                </mapping>
                <mapping>
                    <value>203</value>
                    <newvalue>diagnostics</newvalue>
                </mapping>
                <mapping>
                    <value>204</value>
                    <newvalue>diagnosticsFailed</newvalue>
                </mapping>
                <mapping>
                    <value>210</value>
                    <newvalue>pendingReboot</newvalue>
                </mapping>
                <mapping>
                    <value>211</value>
                    <newvalue>pendingReassociation</newvalue>
                </mapping>
                <mapping>
                    <value>212</value>
                    <newvalue>svnicNotPresent</newvalue>
                </mapping>
            </mappings>
        </value_map>
        <value_map>
            <name>ICMP Ping Status</name>
            <mappings>
                <mapping>
                    <value>0</value>
                    <newvalue>Unavailable</newvalue>
                </mapping>
                <mapping>
                    <value>1</value>
                    <newvalue>Available</newvalue>
                </mapping>
            </mappings>
        </value_map>
    </value_maps>
</zabbix_export>
